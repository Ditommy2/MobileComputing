local composer = require( "composer" )
local lunghezza =  display.contentWidth
local altezza=  lunghezza*(9/16)

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--Variabili nemico
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
local enemy
local scene
local animationTimer
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--Sprite sheet options
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
local sheet_Options =
{
  width=150,
  height=180,
  numFrames=18,
}

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--Walking sprite sheet personaggio
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
local sprite_sheet = graphics.newImageSheet( "Images/Enemies/FallenAngel1/Idle.png", sheet_Options )

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--Walking sequences table personaggio
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
local sequences =
{
    --Right walking sequence
    {
        name = "idle",
        start = 1,
        count = 18,
        time = 1000,
        loopCount = 0,
        loopDirection = "forward"
    }

    -- --Left walking sequence
    -- {
    --     name = "leftWalk",
    --     start = 61,
    --     count = 60,
    --     time = 1000,
    --     loopCount = 0,
    --     loopDirection = "forward"
    -- }
}
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--Creation enemy
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
local function create(scena, nemico)
  --Memorizing scene context
  scene = scena

  --Displaying enemy
  -- print("prova a visualizzare nemico")
  -- print(nemico.immagine)
  enemy = display.newSprite( sprite_sheet, sequences )
  enemy:setSequence(idle)
  enemy:play()
  -- enemy = display.newImageRect( nemico.immagine, 100, 175)
  enemy.anchorY = 1
  enemy.x = lunghezza * 0.7
  enemy.y = altezza-305
  enemy.myName = "Enemy"


  return enemy
end

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--Interface enemy
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
local interfaceEnemy =
{
  createEnemy = (create),
}

return interfaceEnemy
